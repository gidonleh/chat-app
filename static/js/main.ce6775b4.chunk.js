(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{173:function(e,a,t){e.exports=t(473)},177:function(e,a,t){},473:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(13),c=t.n(o),l=(t(177),t(486)),i=t(30),s=t(489),m=t(488),d=t(77),u=t.n(d),p=t(163),f=t.n(p),h=t(76),g=t.n(h),b=t(164),E=t.n(b),v=t(63),x=t.n(v),y=(x.a.initializeApp({apiKey:"AIzaSyCPHhaxdfKOqPHYlfnQtSv38n19ik1FwfA",authDomain:"whatsappclone-8ae83.firebaseapp.com",databaseURL:"https://whatsappclone-8ae83.firebaseio.com",projectId:"whatsappclone-8ae83",storageBucket:"whatsappclone-8ae83.appspot.com",messagingSenderId:"810011438602",appId:"1:810011438602:web:9fdef1f55343d0efc139f3"}),x.a.firestore()),S=t(61),w=Object(l.a)((function(e){return{root:{textDecoration:"none",color:"black"},SideBarChat:{display:"flex",padding:"20px",cursor:"pointer",borderBottom:"1px solid #f6f6f6"}}}));var N=function(e){var a,t=e.addNewChat,o=e.name,c=e.id,l=w(),m=Object(n.useState)(0),d=Object(i.a)(m,2),u=d[0],p=d[1],f=Object(n.useState)(0),h=Object(i.a)(f,2),g=h[0],b=h[1];return Object(n.useEffect)((function(){p(Math.floor(5e3*Math.random()))}),[]),Object(n.useEffect)((function(){var e="";return c&&(e=y.collection("rooms").doc(c).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){return b(e.docs.map((function(e){return e.data()})))}))),function(){e()}}),[c]),t?r.a.createElement("div",{onClick:function(){var e=prompt("please enter new chat name");e&&y.collection("rooms").add({name:e})},className:l.SideBarChat},r.a.createElement("h2",null,"Add new chat")):r.a.createElement(S.b,{to:"/rooms/".concat(c),className:l.root},r.a.createElement("div",{className:l.SideBarChat},r.a.createElement(s.a,{src:"https://avatars.dicebear.com/api/human/".concat(u,".svg")}),r.a.createElement("div",{className:l.SideBarChatInfo},r.a.createElement("h2",null,o),r.a.createElement("p",null,null===(a=g[0])||void 0===a?void 0:a.message))))},j=(t(196),Object(l.a)((function(e){return{sideBar:{flexDirection:"column",flex:"0.35",overflow:"auto",backgroundColor:"white"},search:{display:"flex",alignItems:"center",backgroundColor:"#f6f6f6",height:"39px",padding:"10px"},searchContainer:{display:"flex",alignItems:"center",backgroundColor:"White",flex:"1",height:"95%",borderRadius:"20px","& input":{border:"none",marginLeft:"10px"},"& .MuiSvgIcon-root":{color:"gray",padding:"10px"}},sidebarHeader:{display:"flex",justifyContent:"space-between",padding:"20px",borderRight:"1px solid lightgray"},sidebarHeaderRight:{display:"flex",alignItems:"center",justifyContent:"space-between",marginLeft:"auto",gap:"10px"},SideBarChat:{background:"white",flex:"1","& :hover":{backgroundColor:"#ebebeb"}}}})));function C(){var e=j(),a=Object(n.useState)([]),t=Object(i.a)(a,2),o=t[0],c=t[1];return Object(n.useEffect)((function(){var e=y.collection("rooms").onSnapshot((function(e){return c(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}));return function(){e()}}),[]),r.a.createElement("div",{className:e.sideBar},r.a.createElement("div",{className:e.sidebarHeader},r.a.createElement(s.a,{className:e.avatar}),r.a.createElement("div",{className:e.sidebarHeaderRight},r.a.createElement(m.a,{size:"small"},r.a.createElement(f.a,null)),r.a.createElement(m.a,{size:"small"},r.a.createElement(E.a,null)),r.a.createElement(m.a,{size:"small"},r.a.createElement(g.a,null)))),r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.searchContainer},r.a.createElement(u.a,null),r.a.createElement("input",{placeholder:"search or start new chat",type:"text"}))),r.a.createElement("div",{className:e.SideBarChat},r.a.createElement(N,{addNewChat:!0}),null===o||void 0===o?void 0:o.map((function(e){return r.a.createElement(N,{key:e.id,id:e.id,name:e.data.name})}))))}var O=t(165),k=t(166),B=t.n(k),I=t(167),H=t.n(I),F=t(168),z=t.n(F),R=t(169),D=t.n(R),M=t(5),L=Object(l.a)((function(e){return{chat:{flex:"0.65",display:"flex",flexDirection:"column"},chatHeader:{padding:"20px",display:"flex",alignItems:"center",borderBottom:"1px solid lightgray"},chatHeaderInfo:{flex:"1"},chatHeaderRight:{marginLeft:"auto"},chatBody:{flex:"1",backgroundImage:"url('https://user-images.githubusercontent.com/15075759/28719144-86dc0f70-73b1-11e7-911d-60d70fcded21.png')",backgroundRepeat:"repeat",backgroundPosition:"center",padding:"30px",overflow:"auto"},chatMessage:Object(O.a)({position:"relative",fontSize:"16px",padding:"10px",borderRadius:"10px",width:"fit-content",display:"flex",backgroundColor:"#ffffff",marginBottom:"4%"},e.breakpoints.down("sm"),{marginBottom:"8%"}),reciver:{marginLeft:"auto",backgroundColor:"#dcf8c6"},chatName:{position:"absolute",top:"-15px",fontSize:"10px"},chatTimeStamp:{fontSize:"xx-small",marginLeft:"6px",alignSelf:"flex-end"},chatFooter:{display:"flex",alignItems:"center",height:"62px",borderTop:"1px solid lightgray"},chatFooterForm:{display:"flex",alignItems:"center",flex:"1"},chatFooterFormInput:{flex:"1",minHeight:"40px",borderRadius:"20px",border:"none",outline:"none",paddingLeft:"2%",fontSize:"18px"}}}));var T=function(){var e,a,t=L(!0),o=Object(n.useState)(0),c=Object(i.a)(o,2),l=c[0],d=c[1],p=Object(n.useState)(""),f=Object(i.a)(p,2),h=f[0],b=f[1],E=Object(n.useState)(""),v=Object(i.a)(E,2),S=v[0],w=v[1],N=Object(n.useState)([]),j=Object(i.a)(N,2),C=j[0],O=j[1],k=Object(M.f)().roomId;return Object(n.useEffect)((function(){d(Math.floor(5e3*Math.random()));var e="",a="";return k&&(e=y.collection("rooms").doc(k).onSnapshot((function(e){return w(e.data().name)})),a=y.collection("rooms").doc(k).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){return O(e.docs.map((function(e){return e.data()})))}))),function(){e(),a()}}),[k]),r.a.createElement("div",{className:t.chat},r.a.createElement("div",{className:t.chatHeader},r.a.createElement(s.a,{src:"https://avatars.dicebear.com/api/human/".concat(l,".svg")}),r.a.createElement("div",{className:t.chatHeaderInfo},r.a.createElement("h3",null,S),r.a.createElement("p",null,new Date(null===(e=C[C.length-1])||void 0===e||null===(a=e.timestamp)||void 0===a?void 0:a.toDate()).toUTCString())),r.a.createElement("div",{className:t.chatHeaderRight},r.a.createElement(m.a,{size:"small"},r.a.createElement(u.a,null)),r.a.createElement(m.a,null,r.a.createElement(B.a,null)),r.a.createElement(m.a,{size:"small"},r.a.createElement(g.a,null)))),r.a.createElement("div",{className:t.chatBody},C.map((function(e,a){var n;return r.a.createElement("p",{key:a,className:"".concat(t.chatMessage," ").concat("asaf"===e.name&&t.reciver)},r.a.createElement("span",{className:"".concat(t.chatName,"  ")}," ",e.name),e.message,r.a.createElement("span",{className:t.chatTimeStamp},new Date(null===e||void 0===e||null===(n=e.timestamp)||void 0===n?void 0:n.toDate()).toUTCString()))}))),r.a.createElement("div",{className:t.chatFooter},r.a.createElement(m.a,null,r.a.createElement(H.a,null)),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),y.collection("rooms").doc(k).collection("messages").add({message:h,name:"asaf",timestamp:x.a.firestore.FieldValue.serverTimestamp()}),b("")},className:t.chatFooterForm},r.a.createElement("input",{type:"text",className:t.chatFooterFormInput,placeholder:"Type a message",value:h,onChange:function(e){return b(e.target.value)}}),r.a.createElement(m.a,{type:"submit"},r.a.createElement(z.a,null)),r.a.createElement(m.a,null,r.a.createElement(D.a,null)))))},A=Object(l.a)((function(e){return{app:{backgroundColor:"#dadbd3",height:"100vh",width:"100vw",display:"grid",placeItems:"center"},app_body:{display:"flex",backgroundColor:"#ededed",height:"95%",maxHeight:"750px",width:"70%",boxShadow:"-1px 4px 20px -6px rgba(0,0,0,0.7)"},SideBar:{width:"100%",height:"100%",display:"flex"}}}));var P=function(){var e=A();return r.a.createElement("div",{className:e.app},r.a.createElement("div",{className:e.app_body},r.a.createElement("div",{className:e.SideBar},r.a.createElement(S.a,null,r.a.createElement(C,null),r.a.createElement(M.c,null,r.a.createElement(M.a,{path:"/rooms/:roomId"},r.a.createElement(T,null)))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[173,1,2]]]);
//# sourceMappingURL=main.ce6775b4.chunk.js.map